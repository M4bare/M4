//
// time: Fri May 10 20:00:20 2013
//
// version: 3.2.0 (format), 4.4.4 (DX)
//
//
// Begin MDF
// MODULE MyPlaneAndGlyphs
// CATEGORY Macros
// DESCRIPTION Slice include planes and glyph plots
// INPUT Variable; field; (none); Vector field
// INPUT PlaneList; object; (none); Plane properties
// INPUT Colormap; field; (none); Colormap used to display the magnitudes
// INPUT Opacity[visible:0]; field or scalar; (0.25); Transparency of the planes
// INPUT Density; integer; (500); Arrows density
// INPUT GlyphType[visible:0]; scalar or string or field or group; ("standard"); Arrow shape 
// OPTIONS speedy ; spiffy ; standard ; 0.0 ; 1.0 ; 0.5 ; text ; colored text ; cube ; square ; arrow2D ; circle ; diamond ; needle ; needle2D ; rocket ; rocket2D ; sphere
// INPUT GlyphShape[visible:0]; scalar; (2.5); Arrows Length
// OPTIONS .25 ; .50 ; 1.0 ; 2.0 ; 3.0
// INPUT GlyphScale[visible:0]; scalar; (.5); Height/width ratio for glyphs
// OPTIONS .25 ; .50 ; 1.0 ; 2.0 ; 3.0
// INPUT GlyphRatio[visible:0]; scalar; (0); Ratio of lower to higher values of the glyph
// INPUT ColorMapType[visible:0]; string; (positions); Positions or connections
// OPTIONS positions ; connections
// INPUT ColorBarTitle; string; (no default); Colorbar title
// INPUT LabelScale[visible:0]; scalar; (1.25); Label scale
// INPUT LabelFont[visible:0]; string; (roman_d); Label font
// OPTIONS area ; cyril_d ; fixed ; gothiceng_t ; gothicger_t ; gothicit_t ; greek_d ; greek_s ; italic_d ; italic_t ; pitman ; roman_d ; roman_dser ; roman_s ; roman_tser ; roman_ext ; roman_sfix ; script_d ; script_s ; variable
// INPUT FixedFont[visible:0]; flag; (1); Fixed font size (Y/N)
// INPUT LabelFixedFontSize[visible:0]; integer; (18); Label font size
// OUTPUT Arrows; group; Directions of the vector field
// OUTPUT Norms; group; Magnitudes of the vector field
// OUTPUT PlaneGlyph; group; Directions and magnitudes of the vector field
// End MDF
// page assignment: PlanesGlyphs	order=2, windowed=0, showing=1
// workspace: width = 765, height = 938
// layout: snap = 1, width = 5, height = 5, align = CN
//
macro MyPlaneAndGlyphs(
 Variable
,PlaneList
,Colormap
,Opacity
,Density
,GlyphType
,GlyphShape
,GlyphScale
,GlyphRatio
,ColorMapType
,ColorBarTitle
,LabelScale
,LabelFont
,FixedFont
,LabelFixedFontSize
) -> (
 Arrows
,Norms
,PlaneGlyph
) {
    // 
    // node GetLocal[1]: x = 313, y = 601, inputs = 3, label = GetLocal
    // input[1]: visible = 0
    // input[2]: visible = 0
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_GetLocal_1_out_1,
MyPlaneAndGlyphs_GetLocal_1_out_2 = 
    GetLocal(
    NULL,
    NULL,
    NULL
    ) [instance: 1, cache: 1];
    // 
    // node Input[1]: x = 182, y = 76, inputs = 0, label = Variable
    // page group: PlanesGlyphs
    // parameter: position = 1, name = 'Variable', value = ' ', descriptive = 0, description = 'Vector field', required = 1, visible = 1
    //
MyPlaneAndGlyphs_Input_1_out_1 = Variable;
    // 
    // node Input[2]: x = 292, y = 76, inputs = 0, label = List of cut planes
    // page group: PlanesGlyphs
    // parameter: position = 2, name = 'PlaneList', value = ' ', descriptive = 0, description = 'Plane properties', required = 1, visible = 1
    //
MyPlaneAndGlyphs_Input_2_out_1 = PlaneList;
    // 
    // node ForEachMember[4]: x = 253, y = 141, inputs = 1, label = ForEachMember
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_ForEachMember_4_out_1,
MyPlaneAndGlyphs_ForEachMember_4_out_2,
MyPlaneAndGlyphs_ForEachMember_4_out_3 = 
    ForEachMember(
    MyPlaneAndGlyphs_Input_2_out_1
    ) [instance: 4, cache: 1];
    // 
    // node Compute[121]: x = 239, y = 211, inputs = 2, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "int($0.0)"
    // page group: PlanesGlyphs
    // expression: value = int(a.0)
    // name[2]: value = a
    //
MyPlaneAndGlyphs_Compute_121_out_1 = 
    Compute(
    "int($0.0)",
    MyPlaneAndGlyphs_ForEachMember_4_out_1
    ) [instance: 121, cache: 1];
    // 
    // node Compute[122]: x = 308, y = 211, inputs = 2, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "int($0.1)"
    // page group: PlanesGlyphs
    // expression: value = int(a.1)
    // name[2]: value = a
    //
MyPlaneAndGlyphs_Compute_122_out_1 = 
    Compute(
    "int($0.1)",
    MyPlaneAndGlyphs_ForEachMember_4_out_1
    ) [instance: 122, cache: 1];
    // 
    // node Compute[123]: x = 377, y = 211, inputs = 2, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "int($0.2)"
    // page group: PlanesGlyphs
    // expression: value = int(a.2)
    // name[2]: value = a
    //
MyPlaneAndGlyphs_Compute_123_out_1 = 
    Compute(
    "int($0.2)",
    MyPlaneAndGlyphs_ForEachMember_4_out_1
    ) [instance: 123, cache: 1];
    // 
    // node Slab[1]: x = 191, y = 291, inputs = 4, label = Slab
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Slab_1_out_1 = 
    Slab(
    MyPlaneAndGlyphs_Input_1_out_1,
    MyPlaneAndGlyphs_Compute_121_out_1,
    MyPlaneAndGlyphs_Compute_122_out_1,
    MyPlaneAndGlyphs_Compute_123_out_1
    ) [instance: 1, cache: 1];
    // 
    // node Input[13]: x = 96, y = 291, inputs = 0, label = Arrow density
    // page group: PlanesGlyphs
    // parameter: position = 5, name = 'Density', value = '(500)', descriptive = 1, description = 'Arrows density', required = 0, visible = 1
    //
MyPlaneAndGlyphs_Input_13_out_1 = Density;
    // 
    // node Sample[1]: x = 75, y = 361, inputs = 2, label = Sample
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Sample_1_out_1 = 
    Sample(
    MyPlaneAndGlyphs_Slab_1_out_1,
    MyPlaneAndGlyphs_Input_13_out_1
    ) [instance: 1, cache: 1];
    // 
    // node Input[8]: x = 132, y = 361, inputs = 0, label = Input
    // page group: PlanesGlyphs
    // parameter: position = 6, name = 'GlyphType', value = '("standard")', descriptive = 1, description = 'Arrow shape ', required = 0, visible = 0
    //
MyPlaneAndGlyphs_Input_8_out_1 = GlyphType;
    // 
    // node Input[9]: x = 174, y = 361, inputs = 0, label = Glyph length
    // page group: PlanesGlyphs
    // parameter: position = 7, name = 'GlyphShape', value = '(2.5)', descriptive = 1, description = 'Arrows Length', required = 0, visible = 0
    //
MyPlaneAndGlyphs_Input_9_out_1 = GlyphShape;
    // 
    // node Input[10]: x = 216, y = 361, inputs = 0, label = Glyph scale
    // page group: PlanesGlyphs
    // parameter: position = 8, name = 'GlyphScale', value = '(.5)', descriptive = 1, description = 'Height/width ratio for glyphs', required = 0, visible = 0
    //
MyPlaneAndGlyphs_Input_10_out_1 = GlyphScale;
    // 
    // node Input[11]: x = 258, y = 361, inputs = 0, label = Glyph ratio
    // page group: PlanesGlyphs
    // parameter: position = 9, name = 'GlyphRatio', value = '(0)', descriptive = 1, description = 'Ratio of lower to higher values of the glyph', required = 0, visible = 0
    //
MyPlaneAndGlyphs_Input_11_out_1 = GlyphRatio;
    // 
    // node AutoGlyph[1]: x = 135, y = 431, inputs = 7, label = AutoGlyph
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_AutoGlyph_1_out_1 = 
    AutoGlyph(
    MyPlaneAndGlyphs_Sample_1_out_1,
    MyPlaneAndGlyphs_Input_8_out_1,
    MyPlaneAndGlyphs_Input_9_out_1,
    MyPlaneAndGlyphs_Input_10_out_1,
    MyPlaneAndGlyphs_Input_11_out_1,
    NULL,
    NULL
    ) [instance: 1, cache: 1];
    // 
    // node Color[3]: x = 249, y = 536, inputs = 5, label = Color
    // input[2]: defaulting = 0, visible = 0, type = 32, value = "black"
    // input[3]: visible = 0
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Color_3_out_1 = 
    Color(
    MyPlaneAndGlyphs_AutoGlyph_1_out_1,
    "black",
    NULL,
    NULL,
    NULL
    ) [instance: 3, cache: 1];
    // 
    // node Input[12]: x = 322, y = 291, inputs = 0, label = PositionsConnections
    // page group: PlanesGlyphs
    // parameter: position = 10, name = 'ColorMapType', value = '(positions)', descriptive = 1, description = 'Positions or connections', required = 0, visible = 0
    //
MyPlaneAndGlyphs_Input_12_out_1 = ColorMapType;
    // 
    // node Post[1]: x = 307, y = 361, inputs = 2, label = Post
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Post_1_out_1 = 
    Post(
    MyPlaneAndGlyphs_Slab_1_out_1,
    MyPlaneAndGlyphs_Input_12_out_1
    ) [instance: 1, cache: 1];
    // 
    // node Input[6]: x = 53, y = 461, inputs = 0, label = Colormap
    // page group: PlanesGlyphs
    // parameter: position = 3, name = 'Colormap', value = ' ', descriptive = 0, description = 'Colormap used to display the magnitudes', required = 1, visible = 1
    //
MyPlaneAndGlyphs_Input_6_out_1 = Colormap;
    // 
    // node Input[7]: x = 358, y = 411, inputs = 0, label = Opacity
    // page group: PlanesGlyphs
    // parameter: position = 4, name = 'Opacity', value = '(0.25)', descriptive = 1, description = 'Transparency of the planes', required = 0, visible = 0
    //
MyPlaneAndGlyphs_Input_7_out_1 = Opacity;
    // 
    // node Color[1]: x = 319, y = 531, inputs = 5, label = Color
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Color_1_out_1 = 
    Color(
    MyPlaneAndGlyphs_Post_1_out_1,
    MyPlaneAndGlyphs_Input_6_out_1,
    MyPlaneAndGlyphs_Input_7_out_1,
    NULL,
    NULL
    ) [instance: 1, cache: 1];
    // 
    // node Collect[1]: x = 258, y = 601, inputs = 2, label = Collect
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Collect_1_out_1 = 
    Collect(
    MyPlaneAndGlyphs_Color_3_out_1,
    MyPlaneAndGlyphs_Color_1_out_1
    ) [instance: 1, cache: 1];
    // 
    // node Append[1]: x = 240, y = 671, inputs = 3, label = Append
    // input[3]: visible = 0
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Append_1_out_1 = 
    Append(
    MyPlaneAndGlyphs_GetLocal_1_out_1,
    MyPlaneAndGlyphs_Collect_1_out_1,
    NULL
    ) [instance: 1, cache: 1];
    // 
    // node GetLocal[2]: x = 151, y = 601, inputs = 3, label = GetLocal
    // input[1]: visible = 0
    // input[2]: visible = 0
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_GetLocal_2_out_1,
MyPlaneAndGlyphs_GetLocal_2_out_2 = 
    GetLocal(
    NULL,
    NULL,
    NULL
    ) [instance: 2, cache: 1];
    // 
    // node Color[2]: x = 103, y = 536, inputs = 5, label = Color
    // input[2]: defaulting = 1, visible = 1, type = 32, value = "black"
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Color_2_out_1 = 
    Color(
    MyPlaneAndGlyphs_AutoGlyph_1_out_1,
    MyPlaneAndGlyphs_Input_6_out_1,
    MyPlaneAndGlyphs_Input_7_out_1,
    NULL,
    NULL
    ) [instance: 2, cache: 1];
    // 
    // node Append[2]: x = 94, y = 671, inputs = 3, label = Append
    // input[3]: visible = 0
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Append_2_out_1 = 
    Append(
    MyPlaneAndGlyphs_GetLocal_2_out_1,
    MyPlaneAndGlyphs_Color_2_out_1,
    NULL
    ) [instance: 2, cache: 1];
    // 
    // node GetLocal[3]: x = 474, y = 601, inputs = 3, label = GetLocal
    // input[1]: visible = 0
    // input[2]: visible = 0
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_GetLocal_3_out_1,
MyPlaneAndGlyphs_GetLocal_3_out_2 = 
    GetLocal(
    NULL,
    NULL,
    NULL
    ) [instance: 3, cache: 1];
    // 
    // node Append[3]: x = 417, y = 671, inputs = 3, label = Append
    // input[3]: visible = 0
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Append_3_out_1 = 
    Append(
    MyPlaneAndGlyphs_GetLocal_3_out_1,
    MyPlaneAndGlyphs_Color_1_out_1,
    NULL
    ) [instance: 3, cache: 1];
    // 
    // node Input[15]: x = 554, y = 326, inputs = 0, label = Colorbar label
    // page group: PlanesGlyphs
    // parameter: position = 11, name = 'ColorBarTitle', value = '(no default)', descriptive = 1, description = 'Colorbar title', required = 0, visible = 1
    //
MyPlaneAndGlyphs_Input_15_out_1 = ColorBarTitle;
    // 
    // node Input[18]: x = 597, y = 326, inputs = 0, label = Label Scale
    // page group: PlanesGlyphs
    // parameter: position = 12, name = 'LabelScale', value = '(1.25)', descriptive = 1, description = 'Label scale', required = 0, visible = 0
    //
MyPlaneAndGlyphs_Input_18_out_1 = LabelScale;
    // 
    // node Input[22]: x = 639, y = 326, inputs = 0, label = Label Font
    // page group: PlanesGlyphs
    // parameter: position = 13, name = 'LabelFont', value = '(roman_d)', descriptive = 1, description = 'Label font', required = 0, visible = 0
    //
MyPlaneAndGlyphs_Input_22_out_1 = LabelFont;
    // 
    // node Input[23]: x = 681, y = 326, inputs = 0, label = Use fixed font size for label
    // page group: PlanesGlyphs
    // parameter: position = 14, name = 'FixedFont', value = '(1)', descriptive = 1, description = 'Fixed font size (Y/N)', required = 0, visible = 0
    //
MyPlaneAndGlyphs_Input_23_out_1 = FixedFont;
    // 
    // node Input[24]: x = 723, y = 326, inputs = 0, label = Label font size
    // page group: PlanesGlyphs
    // parameter: position = 15, name = 'LabelFixedFontSize', value = '(18)', descriptive = 1, description = 'Label font size', required = 0, visible = 0
    //
MyPlaneAndGlyphs_Input_24_out_1 = LabelFixedFontSize;
    // 
    // node ColorBar[1]: x = 576, y = 546, inputs = 16, label = ColorBar
    // input[2]: defaulting = 0, visible = 0, type = 8, value = [1 .5]
    // input[3]: defaulting = 0, visible = 0, type = 8, value = NULL
    // input[4]: defaulting = 0, visible = 0, type = 3, value = NULL
    // input[5]: defaulting = 0, visible = 0, type = 1, value = -10
    // input[9]: defaulting = 0, visible = 0, type = 16777248, value = {"black"}
    // input[10]: defaulting = 0, visible = 0, type = 16777248, value = {"all"}
    // input[11]: visible = 1
    // input[12]: visible = 1
    // input[15]: visible = 1
    // input[16]: visible = 1
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_ColorBar_1_out_1 = 
    ColorBar(
    MyPlaneAndGlyphs_Input_6_out_1,
    [1 .5],
    NULL,
    NULL,
    -10,
    NULL,
    NULL,
    MyPlaneAndGlyphs_Input_15_out_1,
    {"black"},
    {"all"},
    MyPlaneAndGlyphs_Input_18_out_1,
    MyPlaneAndGlyphs_Input_22_out_1,
    NULL,
    NULL,
    MyPlaneAndGlyphs_Input_23_out_1,
    MyPlaneAndGlyphs_Input_24_out_1
    ) [instance: 1, cache: 1];
    // 
    // node Collect[2]: x = 257, y = 811, inputs = 2, label = Collect
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Collect_2_out_1 = 
    Collect(
    MyPlaneAndGlyphs_Append_1_out_1,
    MyPlaneAndGlyphs_ColorBar_1_out_1
    ) [instance: 2, cache: 1];
    // 
    // node Collect[3]: x = 434, y = 811, inputs = 2, label = Collect
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Collect_3_out_1 = 
    Collect(
    MyPlaneAndGlyphs_Append_3_out_1,
    MyPlaneAndGlyphs_ColorBar_1_out_1
    ) [instance: 3, cache: 1];
    // 
    // node Collect[4]: x = 111, y = 811, inputs = 2, label = Collect
    // page group: PlanesGlyphs
    //
MyPlaneAndGlyphs_Collect_4_out_1 = 
    Collect(
    MyPlaneAndGlyphs_Append_2_out_1,
    MyPlaneAndGlyphs_ColorBar_1_out_1
    ) [instance: 4, cache: 1];
    // 
    // node Output[1]: x = 111, y = 876, inputs = 1, label = Vector field
    // page group: PlanesGlyphs
    // parameter: position = 1, name = 'Arrows', value = ' ', descriptive = 0, description = 'Directions of the vector field', required = 0, visible = 1
    //
Arrows = MyPlaneAndGlyphs_Collect_4_out_1;
    // 
    // node Output[2]: x = 434, y = 876, inputs = 1, label = Magnitude
    // page group: PlanesGlyphs
    // parameter: position = 2, name = 'Norms', value = ' ', descriptive = 0, description = 'Magnitudes of the vector field', required = 0, visible = 1
    //
Norms = MyPlaneAndGlyphs_Collect_3_out_1;
    // 
    // node Output[3]: x = 257, y = 876, inputs = 1, label = Vector field
    // page group: PlanesGlyphs
    // parameter: position = 3, name = 'PlaneGlyph', value = ' ', descriptive = 0, description = 'Directions and magnitudes of the vector field', required = 0, visible = 1
    //
PlaneGlyph = MyPlaneAndGlyphs_Collect_2_out_1;
    // 
    // node SetLocal[1]: x = 314, y = 741, inputs = 3, label = SetLocal
    // page group: PlanesGlyphs
    //
    SetLocal(
    MyPlaneAndGlyphs_Append_1_out_1,
    MyPlaneAndGlyphs_GetLocal_1_out_2,
    NULL
    ) [instance: 1, cache: 1];
    // 
    // node SetLocal[2]: x = 152, y = 741, inputs = 3, label = SetLocal
    // page group: PlanesGlyphs
    //
    SetLocal(
    MyPlaneAndGlyphs_Append_2_out_1,
    MyPlaneAndGlyphs_GetLocal_2_out_2,
    NULL
    ) [instance: 2, cache: 1];
    // 
    // node SetLocal[3]: x = 475, y = 741, inputs = 3, label = SetLocal
    // page group: PlanesGlyphs
    //
    SetLocal(
    MyPlaneAndGlyphs_Append_3_out_1,
    MyPlaneAndGlyphs_GetLocal_3_out_2,
    NULL
    ) [instance: 3, cache: 1];
// network: end of macro body
}
MyPlaneAndGlyphs_GetLocal_1_out_1 = NULL;
MyPlaneAndGlyphs_GetLocal_1_out_2 = NULL;
MyPlaneAndGlyphs_Input_1_out_1 = NULL;
MyPlaneAndGlyphs_Input_2_out_1 = NULL;
MyPlaneAndGlyphs_ForEachMember_4_out_1 = NULL;
MyPlaneAndGlyphs_Compute_121_out_1 = NULL;
MyPlaneAndGlyphs_Compute_122_out_1 = NULL;
MyPlaneAndGlyphs_Compute_123_out_1 = NULL;
MyPlaneAndGlyphs_Slab_1_out_1 = NULL;
MyPlaneAndGlyphs_Input_13_out_1 = NULL;
MyPlaneAndGlyphs_Sample_1_out_1 = NULL;
MyPlaneAndGlyphs_Input_8_out_1 = NULL;
MyPlaneAndGlyphs_Input_9_out_1 = NULL;
MyPlaneAndGlyphs_Input_10_out_1 = NULL;
MyPlaneAndGlyphs_Input_11_out_1 = NULL;
MyPlaneAndGlyphs_AutoGlyph_1_out_1 = NULL;
MyPlaneAndGlyphs_Color_3_out_1 = NULL;
MyPlaneAndGlyphs_Input_12_out_1 = NULL;
MyPlaneAndGlyphs_Post_1_out_1 = NULL;
MyPlaneAndGlyphs_Input_6_out_1 = NULL;
MyPlaneAndGlyphs_Input_7_out_1 = NULL;
MyPlaneAndGlyphs_Color_1_out_1 = NULL;
MyPlaneAndGlyphs_Collect_1_out_1 = NULL;
MyPlaneAndGlyphs_Append_1_out_1 = NULL;
MyPlaneAndGlyphs_GetLocal_2_out_1 = NULL;
MyPlaneAndGlyphs_GetLocal_2_out_2 = NULL;
MyPlaneAndGlyphs_Color_2_out_1 = NULL;
MyPlaneAndGlyphs_Append_2_out_1 = NULL;
MyPlaneAndGlyphs_GetLocal_3_out_1 = NULL;
MyPlaneAndGlyphs_GetLocal_3_out_2 = NULL;
MyPlaneAndGlyphs_Append_3_out_1 = NULL;
MyPlaneAndGlyphs_Input_15_out_1 = NULL;
MyPlaneAndGlyphs_Input_18_out_1 = NULL;
MyPlaneAndGlyphs_Input_22_out_1 = NULL;
MyPlaneAndGlyphs_Input_23_out_1 = NULL;
MyPlaneAndGlyphs_Input_24_out_1 = NULL;
MyPlaneAndGlyphs_ColorBar_1_out_1 = NULL;
MyPlaneAndGlyphs_Collect_2_out_1 = NULL;
MyPlaneAndGlyphs_Collect_3_out_1 = NULL;
MyPlaneAndGlyphs_Collect_4_out_1 = NULL;
